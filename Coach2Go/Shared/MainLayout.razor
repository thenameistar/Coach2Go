@inherits LayoutComponentBase
@namespace Coach2Go.Shared
@using MudBlazor
@using MudBlazor.Services
@inject AuthService AuthService
@inject NavigationManager Navigation

<MudThemeProvider @bind-IsDarkMode="_isDarkMode" Theme="_theme" />
<MudDialogProvider />
<MudSnackbarProvider />
<MudPopoverProvider />

<div class="page-wrapper">
    <MudLayout Class="main-layout">
        <MudMainContent Class="main-content">
            @Body
        </MudMainContent>

        @if (ShouldShowBottomNav)
        {
            <BottomNavMenu />
        }
    </MudLayout>
</div>

@code {
    private MudTheme _theme = new();
    private bool _isDarkMode = true;

    private bool ShouldShowBottomNav =>
        !Navigation.Uri.Contains("/login", StringComparison.OrdinalIgnoreCase)
        && !Navigation.Uri.Contains("/register", StringComparison.OrdinalIgnoreCase)
        && !Navigation.Uri.Contains("/onboarding", StringComparison.OrdinalIgnoreCase);
}